
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.4.RELEASE)

2019-05-16 14:39:04.595  INFO 1898268 --- [           main] springboot.PocAppMain                    : Starting PocAppMain v0.0.1-SNAPSHOT on KCHL430G81367LX with PID 1898268 (C:\work\TFS\SpringBootMicroServices.zip_expanded\SpringBootMicroServices\target\SpringBootMicroServices-0.0.1-SNAPSHOT.jar started by KTH416 in C:\work\TFS\SpringBootMicroServices.zip_expanded\SpringBootMicroServices)
2019-05-16 14:39:04.599  INFO 1898268 --- [           main] springboot.PocAppMain                    : The following profiles are active: dev
2019-05-16 14:39:04.658  INFO 1898268 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4afd8d: startup date [Thu May 16 14:39:04 CDT 2019]; root of context hierarchy
2019-05-16 14:39:06.240  INFO 1898268 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-05-16 14:39:06.319  INFO 1898268 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'persistenceJpaConfig' of type [springboot.configurations.PersistenceJpaConfig$$EnhancerBySpringCGLIB$$8357ff7f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-16 14:39:06.467  INFO 1898268 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5e0bcdba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-16 14:39:07.304  INFO 1898268 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-16 14:39:07.336  INFO 1898268 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-16 14:39:07.337  INFO 1898268 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.32
2019-05-16 14:39:07.348  INFO 1898268 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files (x86)\Java\jdk1.8.0_201\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\Program Files (x86)\Common Files\NCR\AXSMOD;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Program Files\Teradata\Client\16.20\bin;C:\Program Files (x86)\Teradata\Client\16.20\bin;\pp2;C:\Program Files (x86)\NCR\Teradata Client\Bin;C:\Program Files (x86)\NCR\Common Files\Shared ICU Libraries for Teradata\lib;C:\ProgramData\Oracle\Java\javapath;C:\Oracle11G\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files (x86)\Attachmate\EXTRA!\;C:\Program Files (x86)\Common Files\NCR\AXSMOD\;C:\jdk\jre\bin;C:\jdk\jre\bin\server;C:\Program Files (x86)\SQLLIB\BIN;C:\Program Files (x86)\SQLLIB\HELP;C:\Program Files (x86)\Attachmate\RSecure\;C:\PROGRA~2\IBM\CLIENT~1;C:\PROGRA~2\IBM\CLIENT~1\Shared;C:\PROGRA~2\IBM\CLIENT~1\Emulator;C:\PROGRA~2\IBM\SQLLIB\BIN;C:\PROGRA~2\IBM\SQLLIB\FUNCTION;C:\PROGRA~2\IBM\SQLLIB\SAMPLES\REPL;C:\Users\kth416\AppData\Local\Microsoft\WindowsApps;;.]
2019-05-16 14:39:07.449  INFO 1898268 --- [ost-startStop-1] o.a.c.c.C.[.[localhost].[/rest/api]      : Initializing Spring embedded WebApplicationContext
2019-05-16 14:39:07.449  INFO 1898268 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2793 ms
in PersistenceJpaConfig AppName: RegistrationMicroService env is: dev
2019-05-16 14:39:08.427  INFO 1898268 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-16 14:39:08.427  INFO 1898268 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-05-16 14:39:08.427  INFO 1898268 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpTraceFilter' to: [/*]
2019-05-16 14:39:08.427  INFO 1898268 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2019-05-16 14:39:08.563  INFO 1898268 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'RegistrationMicroServicePU'
2019-05-16 14:39:08.591  INFO 1898268 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: RegistrationMicroServicePU
	...]
2019-05-16 14:39:08.743  INFO 1898268 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2019-05-16 14:39:08.746  INFO 1898268 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-16 14:39:08.832  INFO 1898268 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2019-05-16 14:39:09.570  INFO 1898268 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-05-16 14:39:09.975  WARN 1898268 --- [           main] org.hibernate.orm.deprecation            : HHH90000023: Encountered use of deprecated Connection handling settings [hibernate.connection.acquisition_mode]or [hibernate.connection.release_mode]; use [hibernate.connection.handling_mode] instead
2019-05-16 14:39:10.518  INFO 1898268 --- [           main] org.hibernate.orm.connections.access     : HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@18c99c8] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table Apps (
       ID bigint not null,
        APP_NAME varchar(255) not null,
        primary key (ID)
    )
Hibernate: 
    
    create table RegistrationInfo (
       ID bigint not null,
        ADDRESS_ONE varchar(255),
        ADDRESS_TWO varchar(255),
        CITY varchar(255),
        EMAIL varchar(255) not null,
        FIRST_NAME varchar(255) not null,
        LAST_NAME varchar(255) not null,
        PASSWORD varchar(255) not null,
        REG_APP_NAME varchar(255) not null,
        STATE varchar(255),
        USER_NAME varchar(255) not null,
        ZIP varchar(255),
        primary key (ID)
    )
Hibernate: 
    
    create table Roles (
       ID bigint not null,
        ROLE_NAME varchar(255) not null,
        primary key (ID)
    )
Hibernate: 
    
    create table UserAppRoles (
       ID bigint not null,
        app_ID bigint,
        role_ID bigint,
        user_ID bigint,
        primary key (ID)
    )
Hibernate: 
    
    create table Users (
       ID bigint not null,
        ACTIVE boolean,
        ADDRESS_ONE varchar(255),
        ADDRESS_TWO varchar(255),
        CITY varchar(255),
        EMAIL varchar(255) not null,
        FIRST_NAME varchar(255) not null,
        LAST_NAME varchar(255) not null,
        PASSWORD varchar(255) not null,
        STATE varchar(255),
        USER_NAME varchar(255) not null,
        ZIP varchar(255),
        primary key (ID)
    )
Hibernate: 
    
    create table UserTokens (
       ID bigint not null,
        ACTIVE BOOLEAN DEFAULT true not null,
        CREATED_TIMESTAMP TIMESTAMP DEFAULT CURRENT_TIMESTAMP not null,
        app_ID bigint,
        user_ID bigint not null,
        primary key (ID)
    )
Hibernate: 
    
    alter table Apps 
       drop constraint if exists UKmogae1bjyv0jfbn6v4wci8pai
Hibernate: 
    
    alter table Apps 
       add constraint UKmogae1bjyv0jfbn6v4wci8pai unique (APP_NAME)
Hibernate: create index IDX_EMAIL_APP_NAME on RegistrationInfo (EMAIL, REG_APP_NAME)
Hibernate: 
    
    alter table RegistrationInfo 
       drop constraint if exists UK7p6f6mhiq0t64kuiyochoovf1
Hibernate: 
    
    alter table RegistrationInfo 
       add constraint UK7p6f6mhiq0t64kuiyochoovf1 unique (EMAIL, REG_APP_NAME)
Hibernate: 
    
    alter table Roles 
       drop constraint if exists UK5bcqtc7w66a7mi01onaxhkt8g
Hibernate: 
    
    alter table Roles 
       add constraint UK5bcqtc7w66a7mi01onaxhkt8g unique (ROLE_NAME)
Hibernate: 
    
    alter table UserAppRoles 
       drop constraint if exists UK2ob5nwijmha8o658rdf9xkxvt
Hibernate: 
    
    alter table UserAppRoles 
       add constraint UK2ob5nwijmha8o658rdf9xkxvt unique (user_ID, app_ID, role_ID)
Hibernate: create index IDX_ACTIVE on Users (ACTIVE)
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: 
    
    alter table UserAppRoles 
       add constraint FK3eho9r7jfxd8tfckvx33xn49e 
       foreign key (app_ID) 
       references Apps
Hibernate: 
    
    alter table UserAppRoles 
       add constraint FK1ti80563kx75b9d4e1ll3y5fb 
       foreign key (role_ID) 
       references Roles
Hibernate: 
    
    alter table UserAppRoles 
       add constraint FKnlrjq74ry9xg8kg6lb4xo387o 
       foreign key (user_ID) 
       references Users
Hibernate: 
    
    alter table UserTokens 
       add constraint FK5r0ocefmkxenih8ao2wqlfg65 
       foreign key (app_ID) 
       references Apps
Hibernate: 
    
    alter table UserTokens 
       add constraint FKkjtqte4vlnn0u9osf5v1va3r0 
       foreign key (user_ID) 
       references Users
2019-05-16 14:39:10.601  INFO 1898268 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-16 14:39:10.733  INFO 1898268 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'RegistrationMicroServicePU'
Set Up Cors for Angular
Set Up Cors for Swagger
2019-05-16 14:39:11.454  INFO 1898268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/Registration/register],methods=[POST],consumes=[application/json],produces=[application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> springboot.controllers.rest.RegistrationController.register(springboot.dto.request.RegistrationInfo,javax.servlet.http.HttpServletRequest) throws springboot.dto.validation.exceptions.RequestValidationException,java.lang.IllegalArgumentException,java.nio.file.AccessDeniedException
2019-05-16 14:39:11.455  INFO 1898268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/Registration/resetHashMap],methods=[POST],consumes=[application/json],produces=[application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> springboot.controllers.rest.RegistrationController.resetHashMap(springboot.dto.request.AdminUser,javax.servlet.http.HttpServletRequest) throws springboot.dto.validation.exceptions.RequestValidationException,java.lang.IllegalArgumentException,java.nio.file.AccessDeniedException
2019-05-16 14:39:11.456  INFO 1898268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<?> springboot.controllers.AppErrorController.error(org.springframework.web.context.request.WebRequest)
2019-05-16 14:39:11.459  INFO 1898268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2019-05-16 14:39:11.459  INFO 1898268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto public org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2019-05-16 14:39:11.460  INFO 1898268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2019-05-16 14:39:11.577  INFO 1898268 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-16 14:39:11.605  INFO 1898268 --- [           main] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-05-16 14:39:11.605  INFO 1898268 --- [           main] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-05-16 14:39:11.606  INFO 1898268 --- [           main] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
did the Resource Registry
2019-05-16 14:39:11.906  INFO 1898268 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/swagger-ui.html] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-16 14:39:11.906  INFO 1898268 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-16 14:39:12.007  INFO 1898268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4afd8d: startup date [Thu May 16 14:39:04 CDT 2019]; root of context hierarchy
2019-05-16 14:39:12.070  INFO 1898268 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in requestValidationAdvice
 in transactionManager Object is: org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@19c13b5
2019-05-16 14:39:12.220  INFO 1898268 --- [           main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-05-16 14:39:13.415  INFO 1898268 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-16 14:39:13.431  INFO 1898268 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-16 14:39:13.431  INFO 1898268 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2019-05-16 14:39:13.465  INFO 1898268 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-05-16 14:39:13.505  INFO 1898268 --- [           main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
!!! Boot Environment is: dev
!!! Application Name is: RegistrationMicroService
in Application Init Listener 
entityManager is: Shared EntityManager proxy for target factory [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@19c13b5]
Hibernate: 
    call next value for hibernate_sequence
Hibernate: 
    insert 
    into
        Users
        (ACTIVE, ADDRESS_ONE, ADDRESS_TWO, CITY, EMAIL, FIRST_NAME, LAST_NAME, PASSWORD, STATE, USER_NAME, ZIP, ID) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
User Id is: 1
entityManager is: Shared EntityManager proxy for target factory [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@19c13b5]
Hibernate: 
    call next value for hibernate_sequence
Hibernate: 
    insert 
    into
        Apps
        (APP_NAME, ID) 
    values
        (?, ?)
App Id is: 2
entityManager is: Shared EntityManager proxy for target factory [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@19c13b5]
Hibernate: 
    call next value for hibernate_sequence
Hibernate: 
    insert 
    into
        Roles
        (ROLE_NAME, ID) 
    values
        (?, ?)
Role Id is: 3
entityManager is: Shared EntityManager proxy for target factory [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@19c13b5]
Hibernate: 
    call next value for hibernate_sequence
Hibernate: 
    insert 
    into
        UserAppRoles
        (app_ID, role_ID, user_ID, ID) 
    values
        (?, ?, ?, ?)
UserAppRoles Id is: 4
entityManager is: Shared EntityManager proxy for target factory [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@19c13b5]
Hibernate: 
    call next value for hibernate_sequence
Hibernate: 
    insert 
    into
        UserTokens
        (ACTIVE, app_ID, user_ID, ID) 
    values
        (?, ?, ?, ?)
UserTokens Good Id is: 5
entityManager is: Shared EntityManager proxy for target factory [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@19c13b5]
Hibernate: 
    call next value for hibernate_sequence
Hibernate: 
    insert 
    into
        UserTokens
        (ACTIVE, app_ID, user_ID, ID) 
    values
        (?, ?, ?, ?)
UserTokens Expired Id is: 6
2019-05-16 14:39:14.112  INFO 1898268 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/rest/api'
2019-05-16 14:39:14.119  INFO 1898268 --- [           main] springboot.PocAppMain                    : Started PocAppMain in 9.936 seconds (JVM running for 10.384)
2019-05-16 14:40:31.593  INFO 1898268 --- [nio-8080-exec-1] o.a.c.c.C.[.[localhost].[/rest/api]      : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-16 14:40:31.594  INFO 1898268 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-16 14:40:31.627  INFO 1898268 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2019-05-16 14:40:32.318  WARN 1898268 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping found for HTTP request with URI [/rest/api/] in DispatcherServlet with name 'dispatcherServlet'
2019-05-16 14:40:32.353  WARN 1898268 --- [nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping found for HTTP request with URI [/rest/api/csrf] in DispatcherServlet with name 'dispatcherServlet'
2019-05-16 14:43:19.697  INFO 1898268 --- [       Thread-7] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4afd8d: startup date [Thu May 16 14:39:04 CDT 2019]; root of context hierarchy
2019-05-16 14:43:19.702  INFO 1898268 --- [       Thread-7] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-16 14:43:19.703  INFO 1898268 --- [       Thread-7] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
removed all the connections
Spring Container is destroyed! System Shutting Down
2019-05-16 14:43:19.706  INFO 1898268 --- [       Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'RegistrationMicroServicePU'
